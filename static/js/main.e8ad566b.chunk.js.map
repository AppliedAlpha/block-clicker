{"version":3,"sources":["interval.js","format.js","components/Upgrader.js","components/Upgrade.js","components/Game.js","components/App.js","index.js"],"names":["useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","formatNumber","num","digits","toFixed","replace","Upgrader","name","price","addBps","buy","buyable","useState","nowPrice","setNowPrice","count","setCount","style","opacity","onClick","val","Math","round","Upgrade","blocksCount","setBlocksCount","setBps","cnt","bps","map","upgrader","Game","setDelay","bpc","tickBps","setTickBps","value","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e8ad566b.chunk.js","sourcesContent":["import {useEffect, useRef} from \"react\";\r\n\r\nfunction useInterval(callback, delay) {\r\n    const savedCallback = useRef();\r\n\r\n    useEffect(() => {\r\n        savedCallback.current = callback;\r\n    });\r\n\r\n    useEffect(() => {\r\n        function tick() {\r\n            savedCallback.current();\r\n        }\r\n\r\n        if (delay !== null) {\r\n            let id = setInterval(tick, delay);\r\n            return () => clearInterval(id);\r\n        }\r\n    }, [delay]);\r\n}\r\n\r\nexport default useInterval;","// Number Format\r\nconst formatNumber = (num, digits) => {\r\n    return num.toFixed(digits).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\r\n}\r\n\r\nexport default formatNumber;","import React, { useState } from \"react\";\r\nimport formatNumber from \"format\";\r\n\r\nconst Upgrader = ({ name, price, addBps, buy, buyable }) => {\r\n    const [nowPrice, setNowPrice] = useState(price);\r\n    const [count, setCount] = useState(0);\r\n\r\n    const onClick = () => {\r\n        if (buyable(nowPrice)) {\r\n            buy(nowPrice, addBps);\r\n            setNowPrice(val => Math.round(val * 1.15));\r\n            setCount(val => val + 1);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <p>\r\n                    {name} (Having {count}):\r\n                    -{formatNumber(nowPrice, 0)} Blocks,\r\n                    +{formatNumber(addBps, 1)} BPS\r\n                </p>\r\n                <button style={{opacity: buyable(nowPrice) ? 1.0 : 0.4}}\r\n                        onClick={onClick}>\r\n                    Buy!\r\n                </button>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Upgrader;","import React from \"react\";\r\nimport Upgrader from \"components/Upgrader\";\r\n\r\nconst Upgrade = ({ blocksCount, setBlocksCount, setBps }) => {\r\n    const buy = (price, addBps) => {\r\n        setBlocksCount(cnt => cnt - price);\r\n        setBps(val => Math.round((val + addBps) * 10) / 10);\r\n    };\r\n\r\n    const buyable = (price) => {\r\n        return blocksCount >= price;\r\n    }\r\n\r\n    const upgraders = [\r\n        {name: \"Hand\", price: 15, bps: 0.1},\r\n        {name: \"Pickaxe\", price: 100, bps: 1},\r\n        {name: \"Shovel\", price: 1100, bps: 8},\r\n        {name: \"Axe\", price: 12000, bps: 47},\r\n        {name: \"Sword\", price: 130000, bps: 260},\r\n        {name: \"Farm\", price: 1400000, bps: 1400},\r\n        {name: \"Village\", price: 2e7, bps: 7800},\r\n        {name: \"Portal\", price: 3.3e8, bps: 44000},\r\n        {name: \"Fortress\", price: 5.1e9, bps: 260000},\r\n        {name: \"Stronghold\", price: 7.5e10, bps: 1600000},\r\n        {name: \"End World\", price: 1e12, bps: 1e7},\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                {upgraders.map(upgrader =>\r\n                    <Upgrader name={upgrader.name}\r\n                              price={upgrader.price}\r\n                              addBps={upgrader.bps}\r\n                              buy={buy}\r\n                              buyable={buyable}\r\n                    />\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Upgrade;","import React, { useEffect, useState } from \"react\";\r\nimport useInterval from \"interval\";\r\nimport Upgrade from \"components/Upgrade\";\r\n\r\nconst Game = () => {\r\n    const [blocksCount, setBlocksCount] = useState(50000);\r\n    const [delay, setDelay] = useState(1000);\r\n    const [bpc, setBpc] = useState(1);\r\n    const [bps, setBps] = useState(0);\r\n    const [tickBps, setTickBps] = useState(0);\r\n    const [blockTier, setBlockTier] = useState(0);\r\n    // const [imgRoute, setImgRoute] = useState(\"imgs/0.png\");\r\n\r\n    // Should be fixed\r\n    useEffect(() => {\r\n        if (bps >= 60) {\r\n            setTickBps(Math.round(bps / 60));\r\n            setDelay(1000 / 60);\r\n        }\r\n        else if (bps > 0) {\r\n            setTickBps(1);\r\n            setDelay(1000 / bps);\r\n        }\r\n    }, [bps]);\r\n\r\n    // Automatic (Blocks Per Second)\r\n    useInterval(() => {\r\n        setBlocksCount(value => Math.round((value + tickBps) * 10) / 10);\r\n    }, (tickBps > 0 ? delay : null));\r\n\r\n    // Manual (Blocks Per Click)\r\n    const onBlockClick = () => {\r\n        setBlocksCount(value => value + bpc);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <p>Your Blocks: {blocksCount}</p>\r\n            <span onClick={onBlockClick}>\r\n                <button>I'm A Block Button.</button>\r\n            </span>\r\n            <p>Blocks Per Click : {bpc}</p>\r\n            <p>Blocks Per Second : {bps}</p>\r\n            <Upgrade blocksCount={blocksCount} setBlocksCount={setBlocksCount} setBps={setBps} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Game;","import React from \"react\"\r\nimport Game from \"components/Game\"\r\n\r\nconst App = () => {\r\n    return (\r\n        <>\r\n            <Game />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"components/App\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}